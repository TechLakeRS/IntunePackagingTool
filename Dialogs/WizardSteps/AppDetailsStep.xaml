<UserControl x:Class="IntunePackagingTool.WizardSteps.AppDetailsStep"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <!-- Reuse modern styles from App.xaml -->
        <Style TargetType="TextBox" x:Key="ModernTextBox">
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="BorderBrush" Value="#CED4DA"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#3498DB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ComboBox" x:Key="ModernComboBox">
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CED4DA"/>
            <Setter Property="BorderThickness" Value="2"/>
        </Style>

        <Style TargetType="Button" x:Key="IconButton">
            <Setter Property="Background" Value="#6C757D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#5A6268"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="0,0,0,24">

            <!-- Header -->
            <Border Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" CornerRadius="8" Padding="20" Margin="0,0,0,24">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <Border Background="#2196F3" Width="32" Height="32" CornerRadius="8" Margin="0,0,12,0">
                            <TextBlock Text="📱" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="Application Information" FontSize="18" FontWeight="SemiBold" Foreground="#1976D2" VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock Text="Configure the basic details that will appear in Microsoft Intune admin center" 
                             FontSize="13" Foreground="#1565C0"/>
                </StackPanel>
            </Border>

            <!-- Application Settings -->
            <Border Background="White" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="24" Margin="0,0,0,24">
                <StackPanel>
                    <TextBlock Text="Basic Information" FontSize="16" FontWeight="SemiBold" Foreground="#212529" Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Install Context:" VerticalAlignment="Center" FontSize="13" FontWeight="Medium" Foreground="#6C757D"/>
                        <ComboBox Grid.Row="0" Grid.Column="1" Name="InstallContextCombo" Style="{StaticResource ModernComboBox}">
                            <ComboBoxItem Content="System" IsSelected="True"/>
                            <ComboBoxItem Content="User"/>
                        </ComboBox>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Install Command:" VerticalAlignment="Center" FontSize="13" FontWeight="Medium" Foreground="#6C757D"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="InstallCommandTextBox" Style="{StaticResource ModernTextBox}" 
                                 Text="Deploy-Application.exe -DeploymentType &quot;Install&quot;"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Uninstall Command:" VerticalAlignment="Center" FontSize="13" FontWeight="Medium" Foreground="#6C757D"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Name="UninstallCommandTextBox" Style="{StaticResource ModernTextBox}" 
                                 Text="Deploy-Application.exe -DeploymentType &quot;Uninstall&quot;"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Description:" VerticalAlignment="Top" Margin="0,12,0,0" FontSize="13" FontWeight="Medium" Foreground="#6C757D"/>
                        <TextBox Grid.Row="3" Grid.Column="1" Name="DescriptionTextBox" Style="{StaticResource ModernTextBox}" 
                                 Height="80" TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" 
                                 Text="Application packaged with NBB PSADT Tools"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- App Icon Section -->
            <Border Background="White" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="24">
                <StackPanel>
                    <TextBlock Text="Application Icon (Optional)" FontSize="16" FontWeight="SemiBold" Foreground="#212529" Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Width="64" Height="64" Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Margin="0,0,20,0">
                            <TextBlock Text="📱" FontSize="32" HorizontalAlignment="Center" VerticalAlignment="Center" Name="DefaultIconText"/>
                        </Border>

                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Choose Application Icon" FontWeight="Medium" FontSize="14" Margin="0,0,0,8"/>
                            <TextBlock Text="Select a PNG or ICO file to represent your application in the Intune admin center" 
                                     FontSize="12" Foreground="#6C757D" Margin="0,0,0,16"/>
                            <Button Name="BrowseIconButton" Content="📁 Browse Icon..." Style="{StaticResource IconButton}" 
                                    Click="BrowseIconButton_Click" HorizontalAlignment="Left"/>
                            <TextBlock Name="SelectedIconText" Text="" FontSize="11" Foreground="#27AE60" Margin="0,8,0,0" Visibility="Collapsed"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>